data "aws_caller_identity" "current" {}

locals {
  account_id = data.aws_caller_identity.current.account_id

  # Values from https://github.com/awslabs/amazon-eks-ami/blob/master/files/eni-max-pods.txt
  max_pod = {
    # m5 series
    "m5.2xlarge"    = 58
    "m5.4xlarge"    = 234
    "m5.8xlarge"    = 234
    "m5.large"      = 29
    "m5.xlarge"     = 58
    "m5a.2xlarge"   = 58
    "m5a.4xlarge"   = 234
    "m5a.8xlarge"   = 234
    "m5a.large"     = 29
    "m5a.xlarge"    = 58
    "m5ad.12xlarge" = 234
    "m5ad.16xlarge" = 737
    "m5ad.24xlarge" = 737
    "m5ad.2xlarge"  = 58
    "m5ad.4xlarge"  = 234
    "m5ad.8xlarge"  = 234
    "m5ad.large"    = 29
    "m5ad.xlarge"   = 58
    "m5d.12xlarge"  = 234
    "m5d.16xlarge"  = 737
    "m5d.24xlarge"  = 737
    "m5d.2xlarge"   = 58
    "m5d.4xlarge"   = 234
    "m5d.8xlarge"   = 234
    "m5d.large"     = 29
    "m5d.xlarge"    = 58
    "m5dn.12xlarge" = 234
    "m5dn.16xlarge" = 737
    "m5dn.24xlarge" = 737
    "m5dn.2xlarge"  = 58
    "m5dn.4xlarge"  = 234
    "m5dn.8xlarge"  = 234
    "m5dn.large"    = 29
    "m5dn.xlarge"   = 58
    "m5n.12xlarge"  = 234
    "m5n.16xlarge"  = 737
    "m5n.24xlarge"  = 737
    "m5n.2xlarge"   = 58
    "m5n.4xlarge"   = 234
    "m5n.8xlarge"   = 234
    "m5n.large"     = 29
    "m5n.xlarge"    = 58
    "m5zn.12xlarge" = 737
    "m5zn.2xlarge"  = 58
    "m5zn.3xlarge"  = 234
    "m5zn.6xlarge"  = 234
    "m5zn.large"    = 29
    "m5zn.xlarge"   = 58

    # m6 series
    "m6a.12xlarge"   = 234
    "m6a.16xlarge"   = 737
    "m6a.24xlarge"   = 737
    "m6a.2xlarge"    = 58
    "m6a.32xlarge"   = 737
    "m6a.48xlarge"   = 737
    "m6a.4xlarge"    = 234
    "m6a.8xlarge"    = 234
    "m6a.large"      = 29
    "m6a.xlarge"     = 58
    "m6i.12xlarge"   = 234
    "m6i.16xlarge"   = 737
    "m6i.24xlarge"   = 737
    "m6i.2xlarge"    = 58
    "m6i.32xlarge"   = 737
    "m6i.4xlarge"    = 234
    "m6i.8xlarge"    = 234
    "m6i.large"      = 29
    "m6i.xlarge"     = 58
    "m6id.12xlarge"  = 234
    "m6id.16xlarge"  = 737
    "m6id.24xlarge"  = 737
    "m6id.2xlarge"   = 58
    "m6id.32xlarge"  = 737
    "m6id.4xlarge"   = 234
    "m6id.8xlarge"   = 234
    "m6id.large"     = 29
    "m6id.xlarge"    = 58
    "m6idn.12xlarge" = 234
    "m6idn.16xlarge" = 737
    "m6idn.24xlarge" = 737
    "m6idn.2xlarge"  = 58
    "m6idn.32xlarge" = 345
    "m6idn.4xlarge"  = 234
    "m6idn.8xlarge"  = 234
    "m6idn.large"    = 29
    "m6idn.xlarge"   = 58
    "m6in.12xlarge"  = 234
    "m6in.16xlarge"  = 737
    "m6in.24xlarge"  = 737
    "m6in.2xlarge"   = 58
    "m6in.32xlarge"  = 345
    "m6in.4xlarge"   = 234
    "m6in.8xlarge"   = 234
    "m6in.large"     = 29
    "m6in.xlarge"    = 58

    # m7 series
    "m7a.12xlarge"     = 234
    "m7a.16xlarge"     = 737
    "m7a.24xlarge"     = 737
    "m7a.2xlarge"      = 58
    "m7a.32xlarge"     = 737
    "m7a.48xlarge"     = 737
    "m7a.4xlarge"      = 234
    "m7a.8xlarge"      = 234
    "m7a.large"        = 29
    "m7a.medium"       = 8
    "m7i-flex.2xlarge" = 58
    "m7i-flex.4xlarge" = 234
    "m7i-flex.8xlarge" = 234
    "m7i-flex.large"   = 29
    "m7i-flex.xlarge"  = 58
    "m7i.12xlarge"     = 234
    "m7i.16xlarge"     = 737
    "m7i.24xlarge"     = 737
    "m7i.2xlarge"      = 58
    "m7i.48xlarge"     = 737
    "m7i.4xlarge"      = 234
    "m7i.8xlarge"      = 234
    "m7i.large"        = 29
    "m7i.xlarge"       = 58

    # r5 series
    "r5.12xlarge"   = 234
    "r5.16xlarge"   = 737
    "r5.24xlarge"   = 737
    "r5.2xlarge"    = 58
    "r5.4xlarge"    = 234
    "r5.8xlarge"    = 234
    "r5.large"      = 29
    "r5.xlarge"     = 58
    "r5a.12xlarge"  = 234
    "r5a.16xlarge"  = 737
    "r5a.24xlarge"  = 737
    "r5a.2xlarge"   = 58
    "r5a.4xlarge"   = 234
    "r5a.8xlarge"   = 234
    "r5a.large"     = 29
    "r5a.xlarge"    = 58
    "r5ad.12xlarge" = 234
    "r5ad.16xlarge" = 737
    "r5ad.24xlarge" = 737
    "r5ad.2xlarge"  = 58
    "r5ad.4xlarge"  = 234
    "r5ad.8xlarge"  = 234
    "r5ad.large"    = 29
    "r5ad.xlarge"   = 58
    "r5b.12xlarge"  = 234
    "r5b.16xlarge"  = 737
    "r5b.24xlarge"  = 737
    "r5b.2xlarge"   = 58
    "r5b.4xlarge"   = 234
    "r5b.8xlarge"   = 234
    "r5b.large"     = 29
    "r5b.xlarge"    = 58
    "r5d.12xlarge"  = 234
    "r5d.16xlarge"  = 737
    "r5d.24xlarge"  = 737
    "r5d.2xlarge"   = 58
    "r5d.4xlarge"   = 234
    "r5d.8xlarge"   = 234
    "r5d.large"     = 29
    "r5d.xlarge"    = 58
    "r5dn.12xlarge" = 234
    "r5dn.16xlarge" = 737
    "r5dn.24xlarge" = 737
    "r5dn.2xlarge"  = 58
    "r5dn.4xlarge"  = 234
    "r5dn.8xlarge"  = 234
    "r5dn.large"    = 29
    "r5dn.xlarge"   = 58
    "r5n.12xlarge"  = 234
    "r5n.16xlarge"  = 737
    "r5n.24xlarge"  = 737
    "r5n.2xlarge"   = 58
    "r5n.4xlarge"   = 234
    "r5n.8xlarge"   = 234
    "r5n.large"     = 29
    "r5n.xlarge"    = 58

    # r6 series
    "r6a.12xlarge"   = 234
    "r6a.16xlarge"   = 737
    "r6a.24xlarge"   = 737
    "r6a.2xlarge"    = 58
    "r6a.32xlarge"   = 737
    "r6a.48xlarge"   = 737
    "r6a.4xlarge"    = 234
    "r6a.8xlarge"    = 234
    "r6a.large"      = 29
    "r6a.xlarge"     = 58
    "r6i.12xlarge"   = 234
    "r6i.16xlarge"   = 737
    "r6i.24xlarge"   = 737
    "r6i.2xlarge"    = 58
    "r6i.32xlarge"   = 737
    "r6i.4xlarge"    = 234
    "r6i.8xlarge"    = 234
    "r6i.large"      = 29
    "r6i.xlarge"     = 58
    "r6id.12xlarge"  = 234
    "r6id.16xlarge"  = 737
    "r6id.24xlarge"  = 737
    "r6id.2xlarge"   = 58
    "r6id.32xlarge"  = 737
    "r6id.4xlarge"   = 234
    "r6id.8xlarge"   = 234
    "r6id.large"     = 29
    "r6id.xlarge"    = 58
    "r6idn.12xlarge" = 234
    "r6idn.16xlarge" = 737
    "r6idn.24xlarge" = 737
    "r6idn.2xlarge"  = 58
    "r6idn.32xlarge" = 345
    "r6idn.4xlarge"  = 234
    "r6idn.8xlarge"  = 234
    "r6idn.large"    = 29
    "r6idn.xlarge"   = 58
    "r6in.12xlarge"  = 234
    "r6in.16xlarge"  = 737
    "r6in.24xlarge"  = 737
    "r6in.2xlarge"   = 58
    "r6in.32xlarge"  = 345
    "r6in.4xlarge"   = 234
    "r6in.8xlarge"   = 234
    "r6in.large"     = 29
    "r6in.xlarge"    = 58

    # r7 series
    "r7a.12xlarge"  = 234
    "r7a.16xlarge"  = 737
    "r7a.24xlarge"  = 737
    "r7a.2xlarge"   = 58
    "r7a.32xlarge"  = 737
    "r7a.48xlarge"  = 737
    "r7a.4xlarge"   = 234
    "r7a.8xlarge"   = 234
    "r7a.large"     = 29
    "r7a.medium"    = 8
    "r7a.xlarge"    = 58
    "r7iz.12xlarge" = 234
    "r7iz.16xlarge" = 737
    "r7iz.2xlarge"  = 58
    "r7iz.32xlarge" = 737
    "r7iz.4xlarge"  = 234
    "r7iz.8xlarge"  = 234
    "r7iz.large"    = 29
    "r7iz.xlarge"   = 58

    # t series
    "t1.micro"    = 4
    "t2.2xlarge"  = 44
    "t2.large"    = 35
    "t2.medium"   = 17
    "t2.micro"    = 4
    "t2.nano"     = 4
    "t2.small"    = 11
    "t2.xlarge"   = 44
    "t3.2xlarge"  = 58
    "t3.large"    = 35
    "t3.medium"   = 17
    "t3.micro"    = 4
    "t3.nano"     = 4
    "t3.small"    = 11
    "t3.xlarge"   = 58
    "t3a.2xlarge" = 58
    "t3a.large"   = 35
    "t3a.medium"  = 17
    "t3a.micro"   = 4
    "t3a.nano"    = 4
    "t3a.small"   = 8
    "t3a.xlarge"  = 58
  }
}
